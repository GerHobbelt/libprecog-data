(function(f){var e=function(i,h,j,l,k){this.offset={left:i,top:h};this.element=j;this.position={left:l,top:k}};var g=function(){this.defaults={widthRatio:0.5,heightRatio:0.5,delay:0,gap:0,effect:"splash",effectOptions:undefined};this.effects={};this.twinkle=function(k,h){var j=f.extend({},this.defaults,h);var i=this.effects[j.effect];if(i!==undefined){k.element=k.element||"body";i.run(k,j.effectOptions)}};this.twinkleAtElement=function(l,r){var m=f.extend({},this.defaults,r);var n=f(l);var k=n.offset();var q=k.left+n.outerWidth(true)*m.widthRatio;var p=k.top+n.outerHeight(true)*m.heightRatio;var o=n.position();var j=o.left+n.outerWidth(true)*m.widthRatio;var h=o.top+n.outerHeight(true)*m.heightRatio;var i=new e(q,p,l,j,h);this.twinkle(i,r)};this.twinkleAtElements=function(j,i){var l=this;var k=f.extend({},this.defaults,i);var h=k.delay;f(j).each(function(){var m=this;setTimeout(function(){l.twinkleAtElement(m,i)},h);h+=k.gap})}};var d=new g();var b="twinkle";var c={twinkle:function(i,l,k,h){var j=new e(0,0,i,l,k);d.twinkle(j,h);return c},add:function(h){if(d.effects[h.id]===undefined){d.effects[h.id]=h}return c},remove:function(h){if(d.effects[h.id]!==undefined){delete d.effects[h.id]}return c}};var a={twinkle:function(h){d.twinkleAtElements(this,h);return this}};f[b]=c;f.fn[b]=function(h){if(a[h]){return a[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(h===undefined||h instanceof Object){return a.twinkle.apply(this,arguments)}else{f.error("Method "+h+" does not exist on jQuery."+b)}}}})(jQuery);(function(e){function d(h,k,j){var g=e("<div />").css(h).appendTo(k.element);var f=function(){g.animate({left:k.position.left-j.radius*0.5,top:k.position.top-j.radius*0.5,width:j.radius,height:j.radius,opacity:1},j.duration*0.5,"linear",i)};var i=function(){g.animate({left:k.position.left-j.radius,top:k.position.top-j.radius,width:j.radius*2,height:j.radius*2,opacity:0},j.duration*0.5,"linear",l)};var l=function(){g.remove()};f()}var b=function(){var f={color:"rgba(255,0,0,0.5)",radius:300,duration:1000};this.id="splash-css";this.run=function(j,g){var i=e.extend({},f,g);var h={position:"absolute","z-index":1000,display:"block","border-radius":i.radius,"background-color":i.color,"box-shadow":"0 0 30px "+i.color,left:j.position.left,top:j.position.top,width:0,height:0,opacity:0.4};d(h,j,i)}};var c=function(){var f=new a();this.id="drop-css";this.run=function(h,g){f.run(h,e.extend(g,{count:1}))}};var a=function(){var f={color:"rgba(255,0,0,0.5)",radius:300,duration:1000,width:2,count:3,delay:300};this.id="drops-css";this.run=function(m,h){var l=e.extend({},f,h);var k={position:"absolute","z-index":1000,display:"block","border-radius":l.radius,border:""+l.width+"px solid "+l.color,left:m.position.left,top:m.position.top,width:0,height:0,opacity:0.4};var g=0;for(var j=0;j<l.count;j++){setTimeout(function(){d(k,m,l)},g);g+=l.delay}}};e.twinkle.add(new b());e.twinkle.add(new c());e.twinkle.add(new a())})(jQuery);(function(f){var i=function(n){var m=function(q){var t=1/(q.length-1);var s=[];for(var r=0;r<q.length;r++){s.push({x:t*r,y:q[r]})}return s};var o=function(t,s,r){var q=(s.y-t.y)/(s.x-t.x);var u=t.y+q*(r-t.x);return u};var l=function(q){for(var r=0;r<p.length;r++){if(r===0){continue}var s=p[r-1];var t=p[r];if(q>=s.x&&q<=t.x){return[s,t]}}return undefined};var p=m(n);this.get=function(q){q=Math.max(0,Math.min(1,q));var r=l(q);return o(r[0],r[1],q)}};i.scale=function(l,n,m){n=n||1;m=m||0;l=(l-m)/n;return l>=0&&l<=1?l:undefined};var h=function(l,m,n){this.ctx=l;this.frac=m;this.millis=n};var b=function(n,m,l,o){this.element=n.element;this.x=n.position.left;this.y=n.position.top;this.width=m;this.height=l;this.frame=o;this.$canvas=undefined;this.ctx=undefined;this.init=function(){var p={position:"absolute","z-index":1000,display:"block",left:this.x-this.width*0.5,top:this.y-this.height*0.5,width:this.width,height:this.height};this.$canvas=f("<canvas width='"+this.width+"' height='"+this.height+"' />").css(p).appendTo(this.element);this.ctx=new k(this.$canvas.get(0).getContext("2d"))};this.destroy=function(){this.$canvas.remove();this.$canvas=undefined;this.ctx=undefined};this.run=function(t,s){this.init();var r=this;var p=t/1000*s;var u=1/p;for(var q=0;q<p+1;q++){(function(v){setTimeout(function(){if(r.ctx){r.frame(new h(r.ctx,v,t*v))}},t*v)})(q*u)}setTimeout(f.proxy(this.destroy,this),t)}};var d=function(l){var m=l.context;m.beginPath();this.circle=function(o,p,n){m.arc(o,p,n,0,2*Math.PI,false);return this};this.stroke=function(o,n){m.lineWidth=o;m.strokeStyle=n;m.stroke();return l};this.fill=function(n){m.fillStyle=n;m.fill();return l};this.draw=function(p,o,n){this.stroke(p,o);this.fill(n);return l}};var k=function(l){this.context=l;this.width=f(l.canvas).width();this.height=f(l.canvas).height();this.clear=function(){this.resetTransform();this.context.clearRect(0,0,this.width,this.height);return this};this.resetTransform=function(){this.context.setTransform(1,0,0,1,0,0);return this};this.translate=function(m,n){this.context.translate(m,n);return this};this.rotate=function(m){this.context.rotate(Math.PI*m/180);return this};this.opacity=function(m){this.context.globalAlpha=m;return this};this.path=function(){return new d(this)}};var g=function(){var l={color:"rgba(255,0,0,0.5)",radius:300,duration:1000};this.id="splash";this.run=function(r,o){var q=f.extend({},l,o);var p=q.radius*2;var m=new i([0.4,1,0]);var n=new i([0,q.radius]);var s=function(u){var t=n.get(u.frac);var v=m.get(u.frac);this.ctx.clear().opacity(v).path().circle(this.width*0.5,this.height*0.5,t).fill(q.color)};new b(r,p,p,s).run(q.duration,25)}};f.twinkle.add(new g());var c=function(){var l={color:"rgba(255,0,0,0.5)",radius:300,duration:1000,width:2};this.id="drop";this.run=function(r,o){var q=f.extend({},l,o);var p=q.radius*2;var m=new i([0.4,1,0]);var n=new i([0,q.radius]);var s=function(u){var t=n.get(u.frac);var v=m.get(u.frac);this.ctx.clear().opacity(v).path().circle(this.width*0.5,this.height*0.5,t).stroke(q.width,q.color)};new b(r,p,p,s).run(q.duration,25)}};f.twinkle.add(new c());var e=function(){var l={color:"rgba(255,0,0,0.5)",radius:300,duration:1000,width:2,count:3,delay:100};this.id="drops";this.run=function(s,u){var p=f.extend({},l,u);var t=p.radius*2;var m=new i([0.4,1,0]);var r=new i([0,p.radius]);var o=(p.duration-(p.count-1)*p.delay)/p.duration;var q=p.delay/p.duration;var n=function(w){this.ctx.clear();for(var z=0;z<p.count;z++){var y=i.scale(w.frac,o,q*z);if(y!==undefined){var v=r.get(y);var x=m.get(y);this.ctx.opacity(x).path().circle(this.width*0.5,this.height*0.5,v).stroke(p.width,p.color)}}};new b(s,t,t,n).run(p.duration,25)}};f.twinkle.add(new e());var a=function(){var l={color:"rgba(255,0,0,0.5)",radius:100,duration:3000};this.id="pulse";this.run=function(r,o){var q=f.extend({},l,o);var p=q.radius*2;var m=new i([0,1,0.6,1,0.6,1,0]);var n=new i([0,q.radius,q.radius*0.6,q.radius,q.radius*0.6,q.radius,0]);var s=function(v){var u=this.width*0.5;var z=this.height*0.5;var t=n.get(v.frac);var w=m.get(v.frac);this.ctx.clear().opacity(w).path().circle(this.width*0.5,this.height*0.5,t).fill(q.color)};new b(r,p,p,s).run(q.duration,25)}};f.twinkle.add(new a());var j=function(){var l={color:"rgba(255,0,0,0.5)",radius:100,duration:3000,satellites:10,satellitesRadius:10,circulations:1.5};this.id="orbit";this.run=function(t,o){var q=f.extend({},l,o);var p=q.radius*2;var m=new i([0.4,1,1,0.4]);var s=q.radius-q.satellitesRadius;var n=new i([0,s,s,0]);var u=function(z){var v=n.get(z.frac);var A=m.get(z.frac);var w=Math.PI*2*q.circulations*z.frac;this.ctx.clear().opacity(A).translate(this.width*0.5,this.height*0.5);var C=this.ctx.path();for(var B=0;B<q.satellites;B++){w+=Math.PI*2/q.satellites;var r=Math.cos(w)*v;var D=Math.sin(w)*v;C.circle(r,D,q.satellitesRadius)}C.fill(q.color)};new b(t,p,p,u).run(q.duration,25)}};f.twinkle.add(new j())})(jQuery);